<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>User Details</title>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
	<link rel="stylesheet" th:href="@{/css/style.css}">
	<script src="https://kit.fontawesome.com/c8418fa49e.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
		crossorigin="anonymous"></script>
	<link rel='stylesheet' href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css'>
</head>

<body>
	<div id="container">
		<div id="left-navigation">
			<section th:replace="~{fragments/navigation :: navigation}"></section>
		</div>
		<div id="content">
			<div th:replace="~{fragments/header :: header}"></div>
			<div id="main-content" class="d-flex flex-column">
				<main>
					<div class="row align-items-center mt-2">
						<div class="col-md-3 mb-3">
							<div class="card text-bg-dark member-info-card">
								<img th:src="@{/image/background.jpg}" class="bg_img card-img">
								<div class="card-img-overlay">
									<img th:src="@{/image/user.png}" id="member_img">
									<h5 class="card-title text-center" th:text="${currentUser.fullName}"></h5>
								</div>
							</div>
						</div>
						<div class="col-md-3 mb-3">
							<div class="card border-danger">
								<div class="card-body text-danger text-center">
									<h1 class="card-title fs-1 mb-1" th:text="${notStartedPercent} + '%'"></h1>
									<p class="fs-4 my-2">CHƯA BẮT ĐẦU</p>
									<div class="progress" role="progressbar">
										<div class="progress-bar" th:style="'width:' + ${notStartedPercent} + '%'">
										</div>
									</div>
								</div>
							</div>
						</div>
						<div class="col-md-3 mb-3">
							<div class="card border-warning">
								<div class="card-body text-warning text-center">
									<h1 class="card-title fs-1 mb-1" th:text="${inProgressPercent} + '%'"></h1>
									<p class="fs-4 my-2">ĐANG THỰC HIỆN</p>
									<div class="progress" role="progressbar">
										<div class="progress-bar" th:style="'width:' + ${inProgressPercent} + '%'">
										</div>
									</div>
								</div>
							</div>
						</div>
						<div class="col-md-3 mb-3">
							<div class="card border-success">
								<div class="card-body text-success text-center">
									<h1 class="card-title fs-1 mb-1" th:text="${completedPercent} + '%'"></h1>
									<p class="fs-4 my-2">ĐÃ HOÀN THÀNH</p>
									<div class="progress" role="progressbar">
										<div class="progress-bar" th:style="'width:' + ${completedPercent} + '%'"></div>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div>
						<h3 class="fs-5">DANH SÁCH CÔNG VIỆC</h3>
						<div class="row">
							<div class="col-md-4">
								<div class="white-box mx-0">
									<h4>CHƯA BẮT ĐẦU</h4>
									<div class="box">
										<a th:each="task : ${tasksNotStarted}" th:href="@{/task/edit(id=${task.id})}"
											class="btn btn-light mb-3 text-start d-block">
											<div class="box-content">
												<h5 th:text="${task.name}">
													Task
												</h5>
												<span th:text="${task.project.name}" class="d-block">
													Project
												</span>
												<span th:text="${task.description}" class="d-block">
													Description
												</span>
												<span
													th:text="${#dates.format(task.startDate, 'dd/MM/yyyy') + ' - ' + #dates.format(task.endDate, 'dd/MM/yyyy')}"
													class="d-block">
													Start date - End date
												</span>
											</div>
										</a>
									</div>
								</div>
							</div>
							<div class="col-md-4">
								<div class="white-box mx-0">
									<h4>ĐANG THỰC HIỆN</h4>
									<div class="box">
										<a th:each="task : ${tasksInProgress}" th:href="@{/task/edit(id=${task.id})}"
											class="btn btn-light mb-3 text-start d-block">
											<div class="box-content">
												<h5 th:text="${task.name}">
													Task
												</h5>
												<span th:text="${task.project.name}" class="d-block">
													Project
												</span>
												<span th:text="${task.description}" class="d-block">
													Description
												</span>
												<span
													th:text="${#dates.format(task.startDate, 'dd/MM/yyyy') + ' - ' + #dates.format(task.endDate, 'dd/MM/yyyy')}"
													class="d-block">
													Start date - End date
												</span>
											</div>
										</a>
									</div>

								</div>
							</div>
							<div class="col-md-4">
								<div class="white-box mx-0">
									<h4>ĐÃ HOÀN THÀNH</h4>
									<div class="box">
										<a th:each="task : ${tasksCompleted}" th:href="@{/task/edit(id=${task.id})}"
											class="btn btn-light mb-3 text-start d-block">
											<div class="box-content">
												<h5 th:text="${task.name}">
													Task
												</h5>
												<span th:text="${task.project.name}" class="d-block">
													Project
												</span>
												<span th:text="${task.description}" class="d-block">
													Description
												</span>
												<span
													th:text="${#dates.format(task.startDate, 'dd/MM/yyyy') + ' - ' + #dates.format(task.endDate, 'dd/MM/yyyy')}"
													class="d-block">
													Start date - End date
												</span>
											</div>
										</a>
									</div>
								</div>
							</div>
						</div>
					</div>
				</main>
			</div>
		</div>
	</div>
</body>

</html>